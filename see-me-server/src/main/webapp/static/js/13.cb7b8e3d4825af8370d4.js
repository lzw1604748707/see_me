webpackJsonp([13],{"5r6h":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Y81h"),s=a.n(r),n=a("eOoE"),o={data:function(){return{parentCover:"",parentUrl:"",teacherCover:"",teacherUrl:"",tableData:[]}},created:function(){},mounted:function(){this.getCover()},computed:{headers:function(){return{jxt_admin_session_id:this.$store.state.token}}},methods:{handleParentSuccess:function(e,t){this.parentCover=e.file.url},handleTeacherSuccess:function(e,t){this.teacherCover=e.file.url},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<2;return t||this.$message.error("上传图片只能是 JPG 或 png 格式!"),a||this.$message.error("上传图片大小不能超过 2MB!"),t&&a},hanleSubmitParent:function(){var e=this;this.parentCover&&this.parentUrl?this.$confirm("确认提交吗？","提示",{}).then(function(){s.a.start();(function(e){return Object(n.a)({url:"/admin/info/startpage/parentPageSave",method:"post",data:e})})({cover:e.parentCover,url:e.parentUrl}).then(function(t){s.a.done(),e.parentCover=t.data.url,e.$message.success(t.data.msg)})}):this.$message.error("请上传启动页并填写外链")},hanleSubmitTeacher:function(){var e=this;this.teacherCover&&this.teacherUrl?this.$confirm("确认提交吗？","提示",{}).then(function(){s.a.start();(function(e){return Object(n.a)({url:"/admin/info/startpage/teacherPageSave",method:"post",data:e})})({cover:e.teacherCover,url:e.teacherUrl}).then(function(t){s.a.done(),e.teacherCover=t.data.url,e.$message.success(t.data.msg)})}):this.$message.error("请上传启动页并填写外链")},getCover:function(e){var t=this;Object(n.a)({url:"/admin/info/startpage/getCover",method:"post"}).then(function(e){e.data.parent&&(t.parentCover=e.data.parent.cover,t.parentUrl=e.data.parent.url),e.data.teacher&&(t.teacherCover=e.data.teacher.cover,t.teacherUrl=e.data.teacher.url)}).catch(function(e){t.$message.error(e),console.log(e)})}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"startpage"},[a("el-form",{attrs:{"label-width":"80px"}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("家长端APP")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"primary"},on:{click:e.hanleSubmitParent}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{attrs:{label:"封面：",required:""}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/admin/upload",headers:e.headers,"show-file-list":!1,"on-success":e.handleParentSuccess,"before-upload":e.beforeAvatarUpload}},[e.parentCover?a("img",{staticClass:"avatar",attrs:{src:e.parentCover}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"外链：",required:""}},[a("el-input",{model:{value:e.parentUrl,callback:function(t){e.parentUrl=t},expression:"parentUrl"}})],1)],1),e._v(" "),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"10px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("教师端APP")]),e._v(" "),a("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"primary"},on:{click:e.hanleSubmitTeacher}},[e._v("提交")])],1),e._v(" "),a("el-form-item",{attrs:{label:"封面："}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/admin/upload",headers:e.headers,"show-file-list":!1,"on-success":e.handleTeacherSuccess,"before-upload":e.beforeAvatarUpload}},[e.teacherCover?a("img",{staticClass:"avatar",attrs:{src:e.teacherCover}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"外链："}},[a("el-input",{model:{value:e.teacherUrl,callback:function(t){e.teacherUrl=t},expression:"teacherUrl"}})],1)],1)],1)],1)},staticRenderFns:[]},c=a("VU/8")(o,i,!1,function(e){a("5xKR")},null,null);t.default=c.exports},"5xKR":function(e,t,a){var r=a("FaWp");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("571465ac",r,!0)},FaWp:function(e,t,a){(e.exports=a("FZ+f")(!0)).push([e.i,"\n.startpage {\r\n  margin-top: 10px;\n}\n.box-card {\r\n  width: 600px;\n}\r\n","",{version:3,sources:["E:/JavaWork/see_me/see-me-backend/src/views/info/StartPage.vue"],names:[],mappings:";AACA;EACE,iBAAiB;CAClB;AACD;EACE,aAAa;CACd",file:"StartPage.vue",sourcesContent:["\n.startpage {\r\n  margin-top: 10px;\n}\n.box-card {\r\n  width: 600px;\n}\r\n"],sourceRoot:""}])}});
//# sourceMappingURL=13.cb7b8e3d4825af8370d4.js.map