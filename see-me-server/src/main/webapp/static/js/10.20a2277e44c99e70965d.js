webpackJsonp([10],{Inxy:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("eOoE"),l={data:function(){return{query:{name:"",schoolId:""},loading:!1,page:{pageNumber:1,pageSize:10,total:0},selectSchoolId:this.$route.query.schoolId?1*this.$route.query.schoolId:"",schoolList:[],tableData:[]}},created:function(){},mounted:function(){this.getList(),this.getSchoolList()},watch:{},methods:{handleSizeChange:function(n){this.page.pageSize=n,this.getList()},handleCurrentChange:function(n){this.pageNumber=n,this.getList()},handleSearch:function(){this.getList()},getList:function(){var n=this,e={name:this.query.name,pageNumber:this.page.pageNumber,pageSize:this.page.pageSize,schoolId:this.selectSchoolId};this.loading=!0,function(n){return Object(a.a)({url:"/admin/user/teacher/list",method:"post",data:n})}(e).then(function(e){n.tableData=e.data.page.list,n.page.pageNumber=e.data.page.pageNumber,n.page.pageSize=e.data.page.pageSize,n.page.total=e.data.page.totalRow,n.loading=!1}).catch(function(e){n.loading=!1,n.$message.error(e),console.log(e)})},getSchoolList:function(){var n=this;Object(a.a)({url:"/admin/user/teacher/schoolList",method:"get"}).then(function(e){n.schoolList=e.data.schoolList}).catch(function(e){n.$message.error(e),console.log(e)})}}},o={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("el-form",{staticClass:"query-form",attrs:{inline:"",model:n.query,"label-position":"right","label-width":"60px"}},[t("el-select",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请选择学校"},model:{value:n.selectSchoolId,callback:function(e){n.selectSchoolId=e},expression:"selectSchoolId"}},[t("el-option",{key:"0",attrs:{label:"请选择学校",value:""}}),n._v(" "),n._l(n.schoolList,function(n){return t("el-option",{key:n.id,attrs:{label:n.name,value:n.id}})})],2),n._v(" "),t("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入教师姓名"},model:{value:n.query.name,callback:function(e){n.$set(n.query,"name",e)},expression:"query.name"}}),n._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:n.handleSearch}},[n._v("搜索")])],1)],1),n._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:n.loading,expression:"loading"}],staticClass:"table",attrs:{data:n.tableData,stripe:"",border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"70"}}),n._v(" "),t("el-table-column",{attrs:{prop:"name",label:"姓名"}}),n._v(" "),t("el-table-column",{attrs:{prop:"teacherCode",label:"编号"}}),n._v(" "),t("el-table-column",{attrs:{prop:"sex",label:"性別"},scopedSlots:n._u([{key:"default",fn:function(e){return[1===e.row.sex?t("span",[n._v("男")]):t("span",[n._v("女")])]}}])}),n._v(" "),t("el-table-column",{attrs:{prop:"teachYear",label:"教学时间"}}),n._v(" "),t("el-table-column",{attrs:{prop:"schoolName",label:"所属学校"}}),n._v(" "),t("el-table-column",{attrs:{prop:"title",label:"职称"}}),n._v(" "),t("el-table-column",{attrs:{prop:"phone",label:"电话"}})],1),n._v(" "),t("el-pagination",{attrs:{"current-page":n.page.pageNumber,"page-sizes":[10,20,30,40],"page-size":n.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:n.page.total},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}})],1)},staticRenderFns:[]},s=t("VU/8")(l,o,!1,function(n){t("O+uA")},null,null);e.default=s.exports},"O+uA":function(n,e,t){var a=t("rGKX");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);t("rjj0")("8849070e",a,!0)},rGKX:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"TeacherList.vue",sourceRoot:""}])}});
//# sourceMappingURL=10.20a2277e44c99e70965d.js.map