{"version":3,"sources":["webpack:///src/views/feeback/FeebackList.vue","webpack:///./src/api/feeback_list.js","webpack:///./src/views/feeback/FeebackList.vue?8931","webpack:///./src/views/feeback/FeebackList.vue","webpack:///./src/views/feeback/FeebackList.vue?74ce","webpack:///./src/views/feeback/FeebackList.vue?7d9e"],"names":["FeebackList","required","message","trigger","this","userType","type","status","_this2","then","_","params","val","getList","_this3","feebackType","pageNumber","pageSize","Object","axios","url","method","data","res","list","totalRow","catch","error","_this4","msg","_this5","infoForm","resetFields","_this6","id","feeback_FeebackList","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","inline","model","query","label-position","label-width","staticStyle","margin-left","placeholder","on","change","handleSearch","value","callback","$$v","$set","expression","key","label","_v","_l","item","name","click","handleAdd","directives","rawName","ref","tableData","stripe","border","index","realIndex","width","prop","scopedSlots","_u","fn","scope","_s","identity","row","accountType","steerType","statusName","sortable","formatter","formatDate","size","plain","$event","handleRemove","onChangeStatus","$index","_e","current-page","page","page-sizes","page-size","layout","total","size-change","handleSizeChange","current-change","handleCurrentChange","title","visible","addDialogVisible","update:visible","close","closeDialog","rules","feeback","rows","slot","handleSubmitSave","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","content","module","i","locals","exports","push","version","sources","names","mappings","file","sourcesContent","sourceRoot"],"mappings":"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","file":"static/js/4.412fa281e83443900c72.js","sourcesContent":["<template>\n  <div>\n    <!-- 搜索 -->\n    <el-form inline\n      :model=\"query\"\n      label-position=\"right\"\n      label-width=\"60px\"\n      class=\"query-form\">\n      <el-select v-model=\"query.feebackType\"\n        @change=\"handleSearch\"\n        placeholder=\"请选择反馈类型\"\n        style=\"margin-left:10px;\">\n        <el-option :key=\"-1\"\n          label=\"全部\"\n          value=\"\"></el-option>\n        <el-option v-for=\"item in feebackTypeList\"\n          :key=\"item.value\"\n          :label=\"item.name\"\n          :value=\"item.value\"></el-option>\n      </el-select>\n      <el-select v-model=\"query.status\"\n        @change=\"handleSearch\"\n        placeholder=\"请选择处理状态\"\n        style=\"margin-left:10px;\">\n        <el-option :key=\"-1\"\n          label=\"全部\"\n          value=\"\"></el-option>\n        <el-option v-for=\"item in statusList\"\n          :key=\"item.value\"\n          :label=\"item.name\"\n          :value=\"item.value\"></el-option>\n      </el-select>\n      <el-form-item>\n        <el-button type=\"primary\"\n          @click=\"handleAdd\">添加意见</el-button>\n      </el-form-item>\n    </el-form>\n    <!-- 数据表格 -->\n    <el-table :data=\"tableData\"\n      ref=\"feebackTable\"\n      class=\"table\"\n      stripe\n      border\n      v-loading=\"loading\">\n      <el-table-column type=\"index\"\n        :index=\"realIndex\"\n        label=\"序号\"\n        width=\"70\"></el-table-column>\n      <el-table-column prop=\"account\"\n        label=\"反馈账户\"></el-table-column>\n      <el-table-column prop=\"accountName\"\n        label=\"反馈人\"></el-table-column>\n      <el-table-column prop=\"accountType\"\n        label=\"身份\">\n        <template slot-scope=\"scope\">\n          <span>{{identity(scope.row.accountType)}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"remark\"\n        label=\"意见\"></el-table-column>\n      <el-table-column prop=\"type\"\n        label=\"类型\">\n        <template slot-scope=\"scope\">\n          <span>{{steerType(scope.row.type)}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"type\"\n        label=\"类型\">\n        <template slot-scope=\"scope\">\n          <span>{{statusName(scope.row.status)}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"createDate\"\n        sortable\n        label=\"创建时间\"\n        :formatter=\"formatDate\"></el-table-column>\n      <el-table-column label=\"操作\"\n        width=\"230\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\"\n            type=\"danger\"\n            plain\n            @click=\"handleRemove(scope.row)\">删除</el-button>\n          <el-button v-if=\"scope.row.status===0\"\n            size=\"mini\"\n            type=\"primary\"\n            plain\n            @click=\"onChangeStatus(scope.$index, 1)\">确认</el-button>\n          <el-button v-if=\"scope.row.status===1\"\n            size=\"mini\"\n            type=\"success\"\n            plain\n            @click=\"onChangeStatus(scope.$index, 2)\">已处理</el-button>\n          <el-button size=\"mini\"\n            v-if=\"scope.row.status===1\"\n            type=\"warning\"\n            plain\n            @click=\"onChangeStatus(scope.$index,3)\">回绝</el-button>\n\n        </template>\n      </el-table-column>\n    </el-table>\n    <!-- 分页组件 -->\n    <el-pagination @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :current-page=\"page.pageNumber\"\n      :page-sizes=\"[10, 20, 30, 40]\"\n      :page-size=\"page.pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"page.total\">\n    </el-pagination>\n    <el-dialog title=\"新增\"\n      :visible.sync=\"addDialogVisible\"\n      @close=\"closeDialog('addDialogVisible')\"\n      width=\"500px\">\n      <!-- 项目新增 -->\n      <el-form ref=\"infoForm\"\n        :model=\"infoForm\"\n        :rules=\"rules\"\n        label-width=\"110px\">\n        <el-form-item prop=\"type\"\n          label=\"建议类型：\">\n          <el-select style=\"width:300px;\"\n            v-model=\"infoForm.type\"\n            placeholder=\"请选择建议类型\">\n            <el-option v-for=\"feeback of feebackTypeList\"\n              :key=\"feeback.id\"\n              :label=\"feeback.name\"\n              :value=\"feeback.value\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item prop=\"remark\"\n          label=\"建议内容：\">\n          <el-input type=\"textarea\"\n            :rows=\"5\"\n            style=\"width:300px;\"\n            v-model=\"infoForm.remark\"></el-input>\n        </el-form-item>\n        <div class=\"add__prompt\">\n          <p>注意：将以游客的身份进行建议</p>\n          <p>(该功能用以避免交互和开发的冲突)</p>\n        </div>\n\n      </el-form>\n      <span slot=\"footer\"\n        class=\"dialog-footer\">\n        <el-button @click=\"closeDialog('addDialogVisible')\">关闭</el-button>\n        <el-button type=\"primary\"\n          @click=\"handleSubmitSave\">提交</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\nimport { list, remove, save, reSaveStatus } from \"@/api/feeback_list\";\n\nexport default {\n  data() {\n    return {\n      query: {\n        feebackType: \"\",\n        status: ''\n      },\n      loading: false,\n      page: {\n        pageNumber: 1,\n        pageSize: 10,\n        total: \"\"\n      },\n      feebackTypeList: [\n        {\n          value: 0,\n          name: \"优化建议\"\n        },\n        {\n          value: 1,\n          name: \"平台问题\"\n        },\n        {\n          value: 2,\n          name: \"合作意向\"\n        },\n        {\n          value: 3,\n          name: \"其他\"\n        }\n      ],\n      statusList: [\n        {\n          value: 0,\n          name: \"待确认\"\n        },\n        {\n          value: 1,\n          name: \"已确认\"\n        },\n        {\n          value: 2,\n          name: \"已处理\"\n        },\n        {\n          value: 3,\n          name: \"已回绝\"\n        }\n      ],\n      addDialogVisible: false,\n      infoForm: {\n        remark: '',\n        type: ''\n      },\n      rules: {\n        type: [\n          { required: true, message: '请选择建议类型', trigger: 'change' }\n        ],\n        remark: [{ required: true, message: \"请输入建议内容\", trigger: \"blur\" }]\n      },\n      tableData: []\n    };\n  },\n  computed: {\n    realIndex() {\n      const _this = this\n      return function (index) {\n        return (_this.page.pageNumber - 1) * _this.page.pageSize + index + 1\n      }\n    },\n    identity() {\n      return function (userType) {\n        const identityList = ['游客', '用户', '合作商']\n        return identityList[userType]\n      }\n    },\n    steerType() {\n      return function (type) {\n        const steerTypeList = ['优化', '平台问题反馈', '合作', '其他']\n        return steerTypeList[type]\n      }\n    },\n    statusName() {\n      return function (status) {\n        const statusList = ['待确认', '已确认', '已处理', '已回绝']\n        return statusList[status]\n      }\n    }\n\n  },\n  methods: {\n    closeDialog(flag) {\n      this[flag] = false\n      this.infoForm = []\n      if (this.$refs[\"infoForm\"]) { this.$refs[\"infoForm\"].resetFields(); }\n    },\n    onChangeStatus(index, status) {\n      let params = { id: this.$refs.feebackTable.data[index].id, status: status }\n      if (status !== 1) {\n        this.$confirm(\"确定要执行该操作(请确保处理妥当)？\")\n          .then(_ => {\n            this.reSaveStatus(index, params)\n          })\n      } else {\n        this.reSaveStatus(index, params)\n      }\n    },\n    handleSizeChange: function (val) {\n      this.page.pageSize = val;\n      this.page.pageNumber = 1\n      this.getList();\n    },\n    handleCurrentChange: function (val) {\n      this.pageNumber = val;\n      this.getList();\n    },\n    handleSearch: function () {\n      this.page.pageNumber = 1\n      console.log('触发事件');\n      this.getList();\n    },\n    getList: function () {\n      let params = {\n        feebackType: this.query.feebackType,\n        status: this.query.status,\n        pageNumber: this.page.pageNumber,\n        pageSize: this.page.pageSize\n      };\n      this.loading = true;\n      list(params)\n        .then(res => {\n          this.tableData = res.data.page.list;\n          this.page.total = res.data.page.totalRow;\n          this.loading = false;\n        })\n        .catch(error => {\n          this.loading = false;\n          this.$message.error(error);\n          console.log(error);\n        });\n    },\n    reSaveStatus(index, params) {\n      reSaveStatus(params).then(res => {\n        this.$message.success(res.data.msg);\n        this.$refs.feebackTable.data[index].status = params.status\n      })\n    },\n    handleAdd: function () {\n      this.infoForm = Object.assign({}, null);\n      this.addDialogVisible = true;\n    },\n    handleSubmitSave: function () {\n      this.$refs.infoForm.validate(valid => {\n        if (valid) {\n          this.$confirm(\"确认提交吗？\", \"提示\", {}).then(() => {\n            let para = Object.assign({ accountId: 0, accountType: 0 }, this.infoForm);\n            save(para).then(res => {\n              this.$message.success(res.data.msg);\n              this.$refs[\"infoForm\"].resetFields();\n              this.addDialogVisible = false;\n              this.getList();\n            });\n          });\n        }\n      });\n    },\n    handleRemove(row) {\n      this.$confirm(\"确定删除吗？\")\n        .then(_ => {\n          let id = row.id;\n          remove(id)\n            .then(res => {\n              this.$message.success(res.data.msg);\n              this.getList();\n            })\n            .catch(error => {\n              this.$message.error(error);\n            });\n        })\n        .catch(_ => { });\n    }\n  },\n  mounted() {\n    this.getList();\n  }\n};\n</script>\n\n<style>\n.add__prompt {\n  color: #999;\n  margin-top: 40px;\n  text-align: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/feeback/FeebackList.vue","import fetch from '@/axios'\n\nexport function list (params) {\n    return fetch({\n        url: '/admin/feeback/list',\n        method: 'post',\n        data: params\n    })\n}\n\nexport function save (params) {\n    return fetch({\n        url: '/admin/feeback/save',\n        method: 'post',\n        data: params\n    })\n}\n\nexport function remove (id) {\n    return fetch({\n        url: '/admin/feeback/remove/' + id,\n        method: 'get'\n    })\n}\n\nexport function reSaveStatus (params) {\n    return fetch({\n        url: '/admin/feeback/changeStatus',\n        data: params,\n        method: 'post'\n    })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/feeback_list.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"query-form\",attrs:{\"inline\":\"\",\"model\":_vm.query,\"label-position\":\"right\",\"label-width\":\"60px\"}},[_c('el-select',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"placeholder\":\"请选择反馈类型\"},on:{\"change\":_vm.handleSearch},model:{value:(_vm.query.feebackType),callback:function ($$v) {_vm.$set(_vm.query, \"feebackType\", $$v)},expression:\"query.feebackType\"}},[_c('el-option',{key:-1,attrs:{\"label\":\"全部\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.feebackTypeList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})})],2),_vm._v(\" \"),_c('el-select',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"placeholder\":\"请选择处理状态\"},on:{\"change\":_vm.handleSearch},model:{value:(_vm.query.status),callback:function ($$v) {_vm.$set(_vm.query, \"status\", $$v)},expression:\"query.status\"}},[_c('el-option',{key:-1,attrs:{\"label\":\"全部\",\"value\":\"\"}}),_vm._v(\" \"),_vm._l((_vm.statusList),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})})],2),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAdd}},[_vm._v(\"添加意见\")])],1)],1),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"feebackTable\",staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"stripe\":\"\",\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"index\":_vm.realIndex,\"label\":\"序号\",\"width\":\"70\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"account\",\"label\":\"反馈账户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"accountName\",\"label\":\"反馈人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"accountType\",\"label\":\"身份\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.identity(scope.row.accountType)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"remark\",\"label\":\"意见\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.steerType(scope.row.type)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"类型\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm.statusName(scope.row.status)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createDate\",\"sortable\":\"\",\"label\":\"创建时间\",\"formatter\":_vm.formatDate}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"230\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"plain\":\"\"},on:{\"click\":function($event){_vm.handleRemove(scope.row)}}},[_vm._v(\"删除\")]),_vm._v(\" \"),(scope.row.status===0)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){_vm.onChangeStatus(scope.$index, 1)}}},[_vm._v(\"确认\")]):_vm._e(),_vm._v(\" \"),(scope.row.status===1)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\",\"plain\":\"\"},on:{\"click\":function($event){_vm.onChangeStatus(scope.$index, 2)}}},[_vm._v(\"已处理\")]):_vm._e(),_vm._v(\" \"),(scope.row.status===1)?_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){_vm.onChangeStatus(scope.$index,3)}}},[_vm._v(\"回绝\")]):_vm._e()]}}])})],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"current-page\":_vm.page.pageNumber,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.page.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.page.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.addDialogVisible,\"width\":\"500px\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":function($event){_vm.closeDialog('addDialogVisible')}}},[_c('el-form',{ref:\"infoForm\",attrs:{\"model\":_vm.infoForm,\"rules\":_vm.rules,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"prop\":\"type\",\"label\":\"建议类型：\"}},[_c('el-select',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请选择建议类型\"},model:{value:(_vm.infoForm.type),callback:function ($$v) {_vm.$set(_vm.infoForm, \"type\", $$v)},expression:\"infoForm.type\"}},_vm._l((_vm.feebackTypeList),function(feeback){return _c('el-option',{key:feeback.id,attrs:{\"label\":feeback.name,\"value\":feeback.value}})}))],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"remark\",\"label\":\"建议内容：\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"type\":\"textarea\",\"rows\":5},model:{value:(_vm.infoForm.remark),callback:function ($$v) {_vm.$set(_vm.infoForm, \"remark\", $$v)},expression:\"infoForm.remark\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"add__prompt\"},[_c('p',[_vm._v(\"注意：将以游客的身份进行建议\")]),_vm._v(\" \"),_c('p',[_vm._v(\"(该功能用以避免交互和开发的冲突)\")])])],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.closeDialog('addDialogVisible')}}},[_vm._v(\"关闭\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleSubmitSave}},[_vm._v(\"提交\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6f8d249e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/feeback/FeebackList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f8d249e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FeebackList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FeebackList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FeebackList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f8d249e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FeebackList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/feeback/FeebackList.vue\n// module id = null\n// module chunks = ","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6f8d249e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./FeebackList.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"a9fddcce\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6f8d249e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/feeback/FeebackList.vue\n// module id = KpTI\n// module chunks = 4","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.add__prompt {\\n  color: #999;\\n  margin-top: 40px;\\n  text-align: center;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/eucalyptus-leave/Desktop/personal/see_me/see-me-backend/src/views/feeback/FeebackList.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,YAAY;EACZ,iBAAiB;EACjB,mBAAmB;CACpB\",\"file\":\"FeebackList.vue\",\"sourcesContent\":[\"\\n.add__prompt {\\n  color: #999;\\n  margin-top: 40px;\\n  text-align: center;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-6f8d249e\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/views/feeback/FeebackList.vue\n// module id = QB1l\n// module chunks = 4"],"sourceRoot":""}